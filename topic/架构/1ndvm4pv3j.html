<!doctype html>
<html>
    <head>
        <!-- META Tags -->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>提高代码可读性和效率的 11 个技巧 | 风中的木偶</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- SEO -->
        <meta name="author" content="风中的木偶">
        <meta name="description" content="">
        <meta name="keywords" content="木偶笔记,个人技术博客,IT技术笔记,博客,个人网站,风中的木偶,木偶">
        <meta name="twitter:card" value="summary">
                                                                <meta property="og:title" content="风中的木偶个人博客" />
                                                                <meta property="og:type" content="article" />
                                                                <meta property="og:url" content="https://wangmaolin.net" />
                                                                                            
        <!-- CSS -->
        <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/app.css">

        
        <!-- FontAwesome -->
        <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/font-awesome.css">
                    <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/font-awesome-v4-shims.css">
        
        <!-- Dynamic Colors -->
        <style>
    :root {
        --primary: #787AF6;
        --secondary: #2b9cf2;
    }

    :not(pre)>code[class*=language-], pre[class*=language-] {
        border-top: 3px solid #787AF6;
    }
    
    .bg-gradient-primary {
        background: linear-gradient(87deg, #787AF6 0, #2b9cf2 100%) !important;
    }

    [v-cloak] > * { 
        display: none; 
    }
    
    [v-cloak]::before { 
        content: " ";
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: #F2F6FA;
    }
</style>
        <!-- CSRF Token -->
        <meta name="csrf-token" content="D8fSSeajt5z3Fr37DcKyOkcDPlpm20fWPks5SuoL">

        
    </head>
    <body>
        <div id="app" v-cloak>
            <div class="fixed pin-t pin-x z-40">
    <div class="bg-gradient-primary text-white h-1"></div>

    <nav class="flex items-center justify-between text-black bg-navbar shadow-xs h-16">
        <div class="flex items-center flex-no-shrink">
            <a href="../../index.html" class="flex items-center flex-no-shrink text-black mx-4">
                
                <p class="inline-block font-semibold mx-1 text-grey-dark">
                    风中的木偶
                </p>
            </a>

            <div class="switch">
                <input type="checkbox" name="1" id="1" v-model="sidebar" class="switch-checkbox"/>
                <label class="switch-label" for="1"></label>
            </div>
        </div>

        <div class="hidden lg:flex items-center justify-end pr-4">
            <div class="relative">
                <form action="https://wangmaolin.net/search" onsubmit="return validateForm()" class="form-search">
                    <input id="search-input" name="q" type="text" placeholder="Search" class="bg-gray-100 appearance-none border-2 border-gray-200 rounded py-2 px-4
         text-gray-800 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                </form>
            </div>
        </div>

        <div class="block mx-4 flex items-center">
                        
            
            
            
            

            
            <larecipe-dropdown>
                <larecipe-button type="primary" class="flex">
                    架构 <i class="mx-1 fa fa-angle-down"></i>
                </larecipe-button>

                <template slot="list">
                    <ul class="list-reset" style="height: 800px;width: 200px">
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../AI/overview.html">AI</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../APP/overview.html">APP</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../CSS/overview.html">CSS</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Docker/overview.html">Docker</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../ELK/overview.html">ELK</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Git/overview.html">Git</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Go语言/overview.html">Go语言</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Laravel/overview.html">Laravel</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Linux/overview.html">Linux</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Linux&#32;服务器配置/overview.html">Linux 服务器配置</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Mac/overview.html">Mac</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../MongoDB/overview.html">MongoDB</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Mqtt/overview.html">Mqtt</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../MySQL/overview.html">MySQL</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Nginx/overview.html">Nginx</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../PHP/overview.html">PHP</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Protobuf/overview.html">Protobuf</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Python/overview.html">Python</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../SEO/overview.html">SEO</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Vue&#32;教程/overview.html">Vue 教程</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Windows/overview.html">Windows</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../一无所有到财富自由/overview.html">一无所有到财富自由</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../云服务/overview.html">云服务</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../产品/overview.html">产品</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../元宇宙/overview.html">元宇宙</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../前端/overview.html">前端</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../合伙的本质/overview.html">合伙的本质</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../商业/overview.html">商业</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../大数据/overview.html">大数据</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../天机38局/overview.html">天机38局</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../开源项目/overview.html">开源项目</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../微信/overview.html">微信</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../控糖革命/overview.html">控糖革命</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../搜索/overview.html">搜索</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../支付/overview.html">支付</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../智慧人生/overview.html">智慧人生</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="overview.html">架构</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../游戏开发/overview.html">游戏开发</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../算法/overview.html">算法</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../缓存/overview.html">缓存</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../网络/overview.html">网络</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../自媒体/overview.html">自媒体</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../菜谱/overview.html">菜谱</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../设计模式/overview.html">设计模式</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../资源/overview.html">资源</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../软件工具/overview.html">软件工具</a>
                            </li>
                                            </ul>
                </template>
            </larecipe-dropdown>
            

                    </div>
    </nav>
</div>

            
            <div>
	<div class="sidebar" :class="[{'is-hidden': ! sidebar}]">
    <ul>
<li>
<h2>分布式</h2>
<ul>
<li id="blog76"><a href="jenydjoy7d.html#blog76">TCC 分布式事务的实现原理</a>
</ul>
</li>
<li>
<h2>地图</h2>
<ul>
<li id="blog216"><a href="od6vrzn93g.html#blog216">后台管理系统如何给具体地址添加经纬度坐标？</a>
</ul>
</li>
<li>
<h2>微服务</h2>
<ul>
<li id="blog269"><a href="qk2vmw9yp0.html#blog269">微服务是什么?</a>
</ul>
</li>
<li>
<h2>架构</h2>
<ul>
<li id="blog316"><a href="nq5vrnke7p.html#blog316">直播间状态变更通知所有用户方案</a>
<li id="blog324"><a href="8loynj1vz3.html#blog324">系统注销用户的逻辑</a>
<li id="blog363"><a href="j25v16ge1n.html#blog363">设计无密码登录指南</a>
<li id="blog383"><a href="3qk94gx9w1.html#blog383">系统负载介绍</a>
<li id="blog452"><a href="rpnv39dvwm.html#blog452">下云 - 什么情况下不能离开云计算</a>
<li id="blog487"><a href="ekpv1d2v8w.html#blog487">广告系统架构介绍</a>
<li id="blog570"><a href="j3oyjek9p5.html#blog570">地图红绿灯倒计时功能是如何实现的？</a>
<li id="blog676"><a href="enyd5oo97d.html#blog676">单点登录的实现</a>
<li id="blog677"><a href="5dve2ekv4x.html#blog677">如何防止订单重复支付</a>
<li id="blog694"><a href="3oyjdg8yp5.html#blog694">抢红包系统设计</a>
</ul>
</li>
<li>
<h2>安全</h2>
<ul>
<li id="blog317"><a href="02ky0m69z8.html#blog317">Cloudflare 推出 Turnstile — 一款用户友好且保护隐私的 CAPTCHA 替代方案</a>
<li id="blog379"><a href="wkl9nd8yz4.html#blog379">JWT 认证和授权：详细介绍</a>
<li id="blog380"><a href="gxpv5n5v86.html#blog380">浏览器同源政策及其规避方法</a>
<li id="blog381"><a href="n3xyqnlymq.html#blog381">跨域资源共享 CORS 详解</a>
<li id="blog382"><a href="4x3voeo9m1.html#blog382">XSS 跨站脚本攻击介绍</a>
<li id="blog444"><a href="4wevwrzyl2.html#blog444">双因素认证（2FA）教程</a>
<li id="blog477"><a href="15dved394x.html#blog477">开发安全的 API 所需要核对的清单</a>
<li id="blog667"><a href="m892gnoy01.html#blog667">target=&quot;_blank” 属性的安全漏洞</a>
<li id="blog678"><a href="4rvgnzkydj.html#blog678">CSRF跨站请求伪造攻击</a>
<li id="blog708"><a href="xpv52r1v86.html#blog708">文件上传安全注意事项</a>
<li id="blog709"><a href="3xyq4qjvmq.html#blog709">SQL 注入漏洞</a>
<li id="blog710"><a href="x3vo0qkvm1.html#blog710">服务器漏洞</a>
</ul>
</li>
<li>
<h2>性能</h2>
<ul>
<li id="blog338"><a href="xrwyl6zyz8.html#blog338">关于系统性能的认知</a>
<li id="blog436"><a href="x569x089ep.html#blog436">提高前端代码性能的最佳实践</a>
<li id="blog720"><a href="wevwmxn9l2.html#blog720">高并发相关技巧(待完善)</a>
</ul>
</li>
<li>
<h2>编程</h2>
<ul>
<li id="blog569"><a href="1ndvm4pv3j.html#blog569">提高代码可读性和效率的 11 个技巧</a>
</ul>
</li>
</ul>
</div>

<style>
    #cnzz_stat_icon_1280630928
    {
        display: none;
    }
</style>

<script src="../../vendor/binarytorch/larecipe/assets/js/jquery.min.js"></script>
<script src="../../modules/blog/js/detail.js"></script>

<script type="text/javascript">
    $(function () {
        var cid = '1ndvm4pv3j.html';
        if (!checkView(cid)) {
            $.get('https://wangmaolin.net/api/blog/addView/article/1ndvm4pv3j.html', function (data, status) {
                addView('1ndvm4pv3j.html')
            });
        }
    });
</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7c12b9716af39eb368cff4a19aa89393";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7125202304422722"
     crossorigin="anonymous"></script>
	
	<div class="documentation is-dark" :class="{'expanded': ! sidebar}">
		<h1>提高代码可读性和效率的 11 个技巧</h1><ul>
<li><a href="1ndvm4pv3j.html#52df208ed3bdce540468f29dc635be91">1、受保护的 If</a></li>
<li><a href="1ndvm4pv3j.html#3d33a350fd56da115152b8c826eb7589">2、提前退出</a></li>
<li><a href="1ndvm4pv3j.html#2033c8e6429f293b2eb507565438da3d">3、避免不必要的迭代</a></li>
<li><a href="1ndvm4pv3j.html#7c30107d5c75e1043d2bfd5ed3c0ec31">4、 使用否定条件</a></li>
<li><a href="1ndvm4pv3j.html#531e6edfef3734c81b207452f19ff9c9">5、解释变量</a></li>
<li><a href="1ndvm4pv3j.html#64ffa7363a4c2aebc707c39f3a73292b">6、使用有意义的变量名</a></li>
<li><a href="1ndvm4pv3j.html#5028c78a782d40cc59b8a8a2f1f75610">7、不要重复自己，但重复一点也没关系（DRY原则）</a></li>
<li><a href="1ndvm4pv3j.html#d8606785302c91827708c86f4b19eca8">8、使用布尔条件进行赋值</a></li>
<li><a href="1ndvm4pv3j.html#c13f7879b3b08b5086839cdaf61282f9">9、在局部声明变量</a></li>
<li><a href="1ndvm4pv3j.html#9120ead32e525b632e041fa2a9317da3">10、使用缓存来避免昂贵的计算</a></li>
<li><a href="1ndvm4pv3j.html#45ac06be95b687d63b93e45600437b01">11、使用映射和字典来避免过度迭代</a></li>
</ul><h2 id="52df208ed3bdce540468f29dc635be91">1、受保护的 If</h2>
<p>受保护的if 模式是一种技术，其中特殊情况立即得到处理，从而使主逻辑可以不进行不必要的检查。</p>
<p>这种方法还有助于避免函数的进一步执行，从而引导我们找到下一个提示。</p>
<p>修改前</p>
<pre><code class="language-python">def process_customer_data(user):
    if user is not None:
        if user['customer']:
            print("Processing customer data.")
            # 更多处理逻辑在这里
        else:
            print("User is not a customer.")
            return
            # 边缘情况
    else:
        print("No user data provided.")
         # 边缘情况</code></pre>
<p>修改后</p>
<pre><code class="language-python">def process_customer_data(user):
    if user is None:  # 这是受保护的if，它“保护”着函数的其余部分免受边缘情况的影响。
        print("No user data provided.")
         # 边缘情况
        return

    if not user['customer']:
        print("User is not a customer.")
         # 边缘情况
        return

    print("Processing customer data.")
    # 更多处理逻辑在这里</code></pre>
<h2 id="3d33a350fd56da115152b8c826eb7589">2、提前退出</h2>
<p>如果我们可以停止函数的进一步执行，我们将提高效率。一个常见的例子是在find函数中遍历列表。一旦找到所需的元素，我们应该立即从函数返回。无需迭代其余元素。</p>
<p>前</p>
<pre><code class="language-python">def find_user(users, username):
    result = None
    for user in users:
        if user['username'] == username:
            result = user
    return result

users = [{'username': 'alice'}, {'username': 'bob'}]
print(find_user(users, 'bob'))  # Output: {'username': 'bob'}</code></pre>
<p>后</p>
<pre><code class="language-python">def find_user(users, username):
    for user in users:
        if user['username'] == username:
            return user # 找到我们要找的东西后，就退出函数吧！
    return None

users = [{'username': 'alice'}, {'username': 'bob'}]
print(find_user(users, 'bob'))  # Output: {'username': 'bob'}
</code></pre>
<h2 id="2033c8e6429f293b2eb507565438da3d">3、避免不必要的迭代</h2>
<p>与提前退出类似，我们可以使用 break 来防止不必要的迭代，或者使用 continue 来停止当前迭代并继续下一次迭代。</p>
<p>前</p>
<pre><code class="language-python">def process_transactions(transactions, limit):
    for transaction in transactions:
        if transaction['status'] == 'invalid':
            print(f"Skipping invalid transaction: {transaction['id']}")
        else:
            if transaction['amount'] &gt; limit:
                print(f"Alert! Transaction {transaction['id']} exceeds the limit.")
            else:
                print(f"Processing transaction: {transaction['id']} with amount {transaction['amount']}")
            # 即使找到大额交易，也要继续检查

# Usage
transactions = [
    {'id': 1, 'amount': 100, 'status': 'valid'},
    {'id': 2, 'amount': 250, 'status': 'valid'},
    {'id': 3, 'amount': 300, 'status': 'invalid'},
    {'id': 4, 'amount': 500, 'status': 'valid'},
    {'id': 5, 'amount': 150, 'status': 'valid'},
]
limit = 400
process_transactions(transactions, limit)</code></pre>
<p>后</p>
<pre><code class="language-python">def process_transactions(transactions, limit):
    for transaction in transactions:
        if transaction['status'] == 'invalid':
            print(f"Skipping invalid transaction: {transaction['id']}")
            continue  # 跳过处理这笔交易

        if transaction['amount'] &gt; limit:
            print(f"Alert! Transaction {transaction['id']} exceeds the limit.")
            break  # 停止处理更多交易

        # 处理限额内的有效交易
        print(f"Processing transaction: {transaction['id']} with amount {transaction['amount']}")

# Usage
transactions = [
    {'id': 1, 'amount': 100, 'status': 'valid'},
    {'id': 2, 'amount': 250, 'status': 'valid'},
    {'id': 3, 'amount': 300, 'status': 'invalid'},
    {'id': 4, 'amount': 500, 'status': 'valid'},
    {'id': 5, 'amount': 150, 'status': 'valid'},
]
limit = 400
process_transactions(transactions, limit)
</code></pre>
<h2 id="7c30107d5c75e1043d2bfd5ed3c0ec31">4、 使用否定条件</h2>
<p>使用否定条件可以帮助避免“毁灭金字塔”，这种情况发生在你在if语句的True或False（else）块中编写了大量逻辑。当你首先检查否定条件时，可以尽早捕捉边缘情况，保持“快乐路径”尽可能左对齐，并提高整体可读性。<code>如果你开始看到许多else语句，考虑否定条件以简化代码</code>。</p>
<p>前</p>
<pre><code class="language-python">def process_files_in_directory(directory):
    if os.path.exists(directory):
        files = os.listdir(directory)
        if len(files) &gt; 0:
            for file in files:
                file_path = os.path.join(directory, file)
                if os.path.isfile(file_path) and os.access(file_path, os.R_OK):
                    # This is what our functions is supposed to do
                    # it's indented very far from the left.
                    print(f"Processing file: {file}")
                    process_file(file)
                else:
                    print(f"Cannot read file: {file}")
        else:
            print("No files to process in the directory.")
    else:
        print("Directory does not exist.")</code></pre>
<p>后</p>
<pre><code class="   language-php">def process_files_in_directory(directory):
    if not os.path.exists(directory):
        print("Directory does not exist.")
        return

    files = os.listdir(directory)
    if not files:
        print("No files to process in the directory.")
        return

    for file in files:
        file_path = os.path.join(directory, file)
        if not os.path.isfile(file_path) or not os.access(file_path, os.R_OK):
            print(f"Cannot read file: {file}")
            continue

        # Using negated conditions helps us keep the "Happy Path" of our code
        # as far left as possible
        print(f"Processing file: {file}")
        process_file(file)</code></pre>
<h2 id="531e6edfef3734c81b207452f19ff9c9">5、解释变量</h2>
<p>如果某些值具有重要含义，例如众所周知的数字或传递给函数的标志，则可以通过引入解释变量来提高可读性。该变量的唯一目的是阐明该值的含义。</p>
<p>前</p>
<pre><code class="   language-php">def convert_mb_to_gb(megabytes):
    return megabytes / 1024</code></pre>
<p>后</p>
<pre><code class="   language-php">def convert_mb_to_gb(megabytes):
    num_mb_in_gb = 1024
    gigabytes = megabytes / num_mb_in_gb
    return gigabytes</code></pre>
<h2 id="64ffa7363a4c2aebc707c39f3a73292b">6、使用有意义的变量名</h2>
<p>遵循可读性的主题，优先使用有意义的名称而不是简洁的名称。您的代码被读取的次数比编写的次数要多，通过使用描述性名称，您和其他人在重新阅读代码时可以更轻松。</p>
<p>前</p>
<pre><code class="   language-php">for k, v in {"apple", 10, "pear": 5, "orange": 6}.items():
  print(k, v)</code></pre>
<p>后</p>
<pre><code class="   language-php">for fruit, qty in {"apple", 10, "pear": 5, "orange": 6}.items():
  print(fruit, qty)</code></pre>
<h2 id="5028c78a782d40cc59b8a8a2f1f75610">7、不要重复自己，但重复一点也没关系（DRY原则）</h2>
<p>下一个技术有些争议，所以我将提供我和其他人遵循的一般规则：如果您看到代码块重复大约三次或更多，请考虑将其转换为函数。</p>
<p>但是，请注意不要过度遵循 DRY（不要重复自己）原则。过度抽象和过度设计会让你的代码更难理解和维护，因为你很难记住算法的上下文。</p>
<p>保持代码的DRY原则不仅适用于函数，也适用于循环。如果您发现重复，请考虑使用循环来简化代码。</p>
<p>前</p>
<pre><code class="   language-php"># 计算矩形1的面积和周长
length1 = 5
width1 = 3
area1 = length1 * width1
perimeter1 = 2 * (length1 + width1)
print(f"Rectangle 1 - Area: {area1}, Perimeter: {perimeter1}")

# 计算矩形2的面积和周长
length2 = 8
width2 = 6
area2 = length2 * width2
perimeter2 = 2 * (length2 + width2)
print(f"Rectangle 2 - Area: {area2}, Perimeter: {perimeter2}")

# 计算矩形3的面积和周长
length3 = 7
width3 = 4
area3 = length3 * width3
perimeter3 = 2 * (length3 + width3)
print(f"Rectangle 3 - Area: {area3}, Perimeter: {perimeter3}")</code></pre>
<p>后</p>
<pre><code class="   language-php">def calculate_area_and_perimeter(length, width):
    area = length * width
    perimeter = 2 * (length + width)
    return area, perimeter

# 具有各自长度和宽度的矩形列表
rectangles = [(5, 3),(8, 6),(7, 4),]

# 循环遍历每个矩形并计算面积和周长
for i, (length, width) in enumerate(rectangles, start=1):
    area, perimeter = calculate_area_and_perimeter(length, width)
    print(f"Rectangle {i} - Area: {area}, Perimeter: {perimeter}")
</code></pre>
<h2 id="d8606785302c91827708c86f4b19eca8">8、使用布尔条件进行赋值</h2>
<p>条件句不仅适用于 if 语句；它们经常出现在 while 循环中，也可以单独用作布尔表达式。与其在 if 语句中使用标志变量，不如考虑直接使用布尔表达式。</p>
<p>前</p>
<pre><code class="   language-php">def has_access(role, is_active):
    access = False # 标志变量
    if role == 'admin' and is_active:
        access = True
    return access</code></pre>
<p>后</p>
<pre><code class="   language-php">def has_access(role, is_active):
    return role == 'admin' and is_active  # 无需标记，直接使用条件表达式即可。</code></pre>
<h2 id="c13f7879b3b08b5086839cdaf61282f9">9、在局部声明变量</h2>
<p>当您第一次学习编程时，您可能会养成将所有变量放在顶部的习惯。虽然这在C等语言中很好，但大多数较新语言的风格是在靠近使用变量的位置声明变量，也称为局部变量。这种方法提高了可读性并有助于保持代码的组织性。</p>
<p>前</p>
<pre><code class="   language-php"># 在顶部声明的变量
min_number = 1
max_number = 100
target_number = random.randint(min_number, max_number)
guess = None
attempts = 0
max_attempts = 10
game_won = False

print(f"Welcome to the Number Guessing Game!")
print(f"Try to guess the number I'm thinking of between {min_number} and {max_number}.")

while attempts &lt; max_attempts and not game_won:
    try:
        guess = int(input("Enter your guess: "))
        attempts += 1

        if guess &lt; target_number:
            print("Too low! Try again.")
        elif guess &gt; target_number:
            print("Too high! Try again.")
        else:
            print(f"Congratulations! You've guessed the number {target_number} in {attempts} attempts.")
            game_won = True
    except ValueError:
        print("Please enter a valid number.")

if not game_won:
    print(f"Sorry, you've used all {max_attempts} attempts. The number was {target_number}. Better luck next time!")</code></pre>
<p>后</p>
<pre><code class="   language-php">import random

print("Welcome to the Number Guessing Game!")

# 这些将在接下来的两个语句中使用
min_number = 1
max_number = 100
print(f"Try to guess the number I'm thinking of between {min_number} and {max_number}.")
target_number = random.randint(min_number, max_number)

#These Belong to the Main Loop
attempts = 0
max_attempts = 10
game_won = False

while attempts &lt; max_attempts and not game_won:
    try:
        # 只有在需要时才声明它。
        guess = int(input("Enter your guess: "))
        attempts += 1

        if guess &lt; target_number:
            print("Too low! Try again.")
        elif guess &gt; target_number:
            print("Too high! Try again.")
        else:
            print(f"Congratulations! You've guessed the number {target_number} in {attempts} attempts.")
            game_won = True
    except ValueError:
        print("Please enter a valid number.")

if not game_won:
    print(f"Sorry, you've used all {max_attempts} attempts. The number was {target_number}. Better luck next time!")</code></pre>
<h2 id="9120ead32e525b632e041fa2a9317da3">10、使用缓存来避免昂贵的计算</h2>
<p>使用此技术不仅可以避免不必要的执行，还可以避免昂贵的执行。初始化一个缓存或变量来保存计算结果或已被函数“看到”的输入和请求的资源可以极大地提高性能。</p>
<p>前</p>
<pre><code class="   language-php">def is_prime(n):
    # 处理数字小于或等于 1 的边缘情况
    if n &lt;= 1:
        return False

    # 检查不超过 n 的平方根的潜在因数的可除性
    for i in range(2, int(n**0.5) + 1):
        if n % i == 0:
            return False

    # 如果找不到被除数，则该数为质数
    return True

# 检查数字是否为质数
print(is_prime(29))  # True
print(is_prime(15))  # False
print(is_prime(29))  # True (Recalculated)</code></pre>
<p>后</p>
<pre><code class="   language-php"># 定义全局缓存字典
prime_cache = {}

def is_prime(n):
    # 检查结果是否已缓存，避免计算
    if n in prime_cache:
        return prime_cache[n]

    # 处理小于或等于 1 的数字的边缘情况
    if n &lt;= 1:
        prime_cache[n] = False
        return False

    # 检查不超过 n 的平方根的潜在因数的可除性
    for i in range(2, int(n**0.5) + 1):
        if n % i == 0:
            prime_cache[n] = False
            return False

    # 如果没有找到约数，则该数字是质数
    prime_cache[n] = True
    return True

# 使用缓存测试 is_prime 函数
print(is_prime(29))  # True, calculated and stored
print(is_prime(15))  # False, calculated and stored
print(is_prime(29))  # True, retrieved from cache
print(is_prime(15))  # False, retrieved from cache</code></pre>
<h2 id="45ac06be95b687d63b93e45600437b01">11、使用映射和字典来避免过度迭代</h2>
<p>继续避免过度迭代的主题，有时，你可以通过改变算法使用的数据结构类型来提高效率。例如，通过使用映射或字典，您可以通过执行直接查找来完全避免迭代。</p>
<p>前</p>
<pre><code class="   language-php">students_list = [
    {"id": 101, "name": "Alice", "grade": "A"},
    {"id": 102, "name": "Bob", "grade": "B"},
    {"id": 103, "name": "Charlie", "grade": "C"},
]

def find_student_by_id_list(student_id, students):
    for student in students:
        if student["id"] == student_id:
            return student
    return None

# Find student with ID 102
student = find_student_by_id_list(102, students_list)
print(student)  # Output: {'id': 102, 'name': 'Bob', 'grade': 'B'}</code></pre>
<p>后</p>
<pre><code class="   language-php">students_dict = {
    101: {"name": "Alice", "grade": "A"},
    102: {"name": "Bob", "grade": "B"},
    103: {"name": "Charlie", "grade": "C"},
}

def find_student_by_id_dict(student_id, students):
    return students.get(student_id)

# Find student with ID 102
student = find_student_by_id_dict(102, students_dict)
print(student)  # Output: {'name': 'Bob', 'grade': 'B'}</code></pre>
			</div>
</div>

            <larecipe-back-to-top></larecipe-back-to-top>
        </div>


        <script>
            window.config = [];
        </script>

        <script type="text/javascript">
            if(localStorage.getItem('larecipeSidebar') == null) {
                localStorage.setItem('larecipeSidebar', !! 1);
            }
        </script>

        <script src="../../vendor/binarytorch/larecipe/assets/js/app.js"></script>

        <script>
            window.LaRecipe = new CreateLarecipe(config)
        </script>

        <!-- Google Analytics -->
                <!-- /Google Analytics -->

        
        <script>
            LaRecipe.run()
        </script>
    </body>
</html>
