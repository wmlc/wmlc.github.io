<!doctype html>
<html>
    <head>
        <!-- META Tags -->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>开发安全的 API 所需要核对的清单 | 风中的木偶</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- SEO -->
        <meta name="author" content="风中的木偶">
        <meta name="description" content="">
        <meta name="keywords" content="木偶笔记,个人技术博客,IT技术笔记,博客,个人网站,风中的木偶,木偶">
        <meta name="twitter:card" value="summary">
                                                                <meta property="og:title" content="风中的木偶个人博客" />
                                                                <meta property="og:type" content="article" />
                                                                <meta property="og:url" content="https://wangmaolin.net" />
                                                                                            
        <!-- CSS -->
        <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/app.css">

        
        <!-- FontAwesome -->
        <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/font-awesome.css">
                    <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/font-awesome-v4-shims.css">
        
        <!-- Dynamic Colors -->
        <style>
    :root {
        --primary: #787AF6;
        --secondary: #2b9cf2;
    }

    :not(pre)>code[class*=language-], pre[class*=language-] {
        border-top: 3px solid #787AF6;
    }
    
    .bg-gradient-primary {
        background: linear-gradient(87deg, #787AF6 0, #2b9cf2 100%) !important;
    }

    [v-cloak] > * { 
        display: none; 
    }
    
    [v-cloak]::before { 
        content: " ";
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: #F2F6FA;
    }
</style>
        <!-- CSRF Token -->
        <meta name="csrf-token" content="VXrP3SiCX6UhSG9yLMZPsVfpGGJJN0nTbrOTl7wU">

        
    </head>
    <body>
        <div id="app" v-cloak>
            <div class="fixed pin-t pin-x z-40">
    <div class="bg-gradient-primary text-white h-1"></div>

    <nav class="flex items-center justify-between text-black bg-navbar shadow-xs h-16">
        <div class="flex items-center flex-no-shrink">
            <a href="../../index.html" class="flex items-center flex-no-shrink text-black mx-4">
                
                <p class="inline-block font-semibold mx-1 text-grey-dark">
                    风中的木偶
                </p>
            </a>

            <div class="switch">
                <input type="checkbox" name="1" id="1" v-model="sidebar" class="switch-checkbox"/>
                <label class="switch-label" for="1"></label>
            </div>
        </div>

        <div class="hidden lg:flex items-center justify-end pr-4">
            <div class="relative">
                <form action="https://wangmaolin.net/search" onsubmit="return validateForm()" class="form-search">
                    <input id="search-input" name="q" type="text" placeholder="Search" class="bg-gray-100 appearance-none border-2 border-gray-200 rounded py-2 px-4
         text-gray-800 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                </form>
            </div>
        </div>

        <div class="block mx-4 flex items-center">
                        
            
            
            
            

            
            <larecipe-dropdown>
                <larecipe-button type="primary" class="flex">
                    架构 <i class="mx-1 fa fa-angle-down"></i>
                </larecipe-button>

                <template slot="list">
                    <ul class="list-reset" style="height: 800px;width: 200px">
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../AI/overview.html">AI</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../APP/overview.html">APP</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../CSS/overview.html">CSS</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Docker/overview.html">Docker</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../ELK/overview.html">ELK</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Git/overview.html">Git</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Go语言/overview.html">Go语言</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Laravel/overview.html">Laravel</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Linux/overview.html">Linux</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Linux&#32;服务器配置/overview.html">Linux 服务器配置</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Mac/overview.html">Mac</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../MongoDB/overview.html">MongoDB</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Mqtt/overview.html">Mqtt</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../MySQL/overview.html">MySQL</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Nginx/overview.html">Nginx</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../PHP/overview.html">PHP</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Protobuf/overview.html">Protobuf</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Python/overview.html">Python</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../SEO/overview.html">SEO</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Vue&#32;教程/overview.html">Vue 教程</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Windows/overview.html">Windows</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../一无所有到财富自由/overview.html">一无所有到财富自由</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../云服务/overview.html">云服务</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../产品/overview.html">产品</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../元宇宙/overview.html">元宇宙</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../前端/overview.html">前端</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../合伙的本质/overview.html">合伙的本质</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../商业/overview.html">商业</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../大数据/overview.html">大数据</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../天机38局/overview.html">天机38局</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../开源项目/overview.html">开源项目</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../微信/overview.html">微信</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../控糖革命/overview.html">控糖革命</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../搜索/overview.html">搜索</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../支付/overview.html">支付</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../智慧人生/overview.html">智慧人生</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="overview.html">架构</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../游戏开发/overview.html">游戏开发</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../算法/overview.html">算法</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../缓存/overview.html">缓存</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../网络/overview.html">网络</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../自媒体/overview.html">自媒体</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../菜谱/overview.html">菜谱</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../设计模式/overview.html">设计模式</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../资源/overview.html">资源</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../软件工具/overview.html">软件工具</a>
                            </li>
                                            </ul>
                </template>
            </larecipe-dropdown>
            

                    </div>
    </nav>
</div>

            
            <div>
	<div class="sidebar" :class="[{'is-hidden': ! sidebar}]">
    <ul>
<li>
<h2>分布式</h2>
<ul>
<li id="blog76"><a href="jenydjoy7d.html#blog76">TCC 分布式事务的实现原理</a>
</ul>
</li>
<li>
<h2>地图</h2>
<ul>
<li id="blog216"><a href="od6vrzn93g.html#blog216">后台管理系统如何给具体地址添加经纬度坐标？</a>
</ul>
</li>
<li>
<h2>微服务</h2>
<ul>
<li id="blog269"><a href="qk2vmw9yp0.html#blog269">微服务是什么?</a>
</ul>
</li>
<li>
<h2>架构</h2>
<ul>
<li id="blog316"><a href="nq5vrnke7p.html#blog316">直播间状态变更通知所有用户方案</a>
<li id="blog324"><a href="8loynj1vz3.html#blog324">系统注销用户的逻辑</a>
<li id="blog363"><a href="j25v16ge1n.html#blog363">设计无密码登录指南</a>
<li id="blog383"><a href="3qk94gx9w1.html#blog383">系统负载介绍</a>
<li id="blog452"><a href="rpnv39dvwm.html#blog452">下云 - 什么情况下不能离开云计算</a>
<li id="blog487"><a href="ekpv1d2v8w.html#blog487">广告系统架构介绍</a>
<li id="blog570"><a href="j3oyjek9p5.html#blog570">地图红绿灯倒计时功能是如何实现的？</a>
<li id="blog676"><a href="enyd5oo97d.html#blog676">单点登录的实现</a>
<li id="blog677"><a href="5dve2ekv4x.html#blog677">如何防止订单重复支付</a>
<li id="blog694"><a href="3oyjdg8yp5.html#blog694">抢红包系统设计</a>
</ul>
</li>
<li>
<h2>安全</h2>
<ul>
<li id="blog317"><a href="02ky0m69z8.html#blog317">Cloudflare 推出 Turnstile — 一款用户友好且保护隐私的 CAPTCHA 替代方案</a>
<li id="blog379"><a href="wkl9nd8yz4.html#blog379">JWT 认证和授权：详细介绍</a>
<li id="blog380"><a href="gxpv5n5v86.html#blog380">浏览器同源政策及其规避方法</a>
<li id="blog381"><a href="n3xyqnlymq.html#blog381">跨域资源共享 CORS 详解</a>
<li id="blog382"><a href="4x3voeo9m1.html#blog382">XSS 跨站脚本攻击介绍</a>
<li id="blog444"><a href="4wevwrzyl2.html#blog444">双因素认证（2FA）教程</a>
<li id="blog477"><a href="15dved394x.html#blog477">开发安全的 API 所需要核对的清单</a>
<li id="blog667"><a href="m892gnoy01.html#blog667">target=&quot;_blank” 属性的安全漏洞</a>
<li id="blog678"><a href="4rvgnzkydj.html#blog678">CSRF跨站请求伪造攻击</a>
<li id="blog708"><a href="xpv52r1v86.html#blog708">文件上传安全注意事项</a>
<li id="blog709"><a href="3xyq4qjvmq.html#blog709">SQL 注入漏洞</a>
<li id="blog710"><a href="x3vo0qkvm1.html#blog710">服务器漏洞</a>
</ul>
</li>
<li>
<h2>性能</h2>
<ul>
<li id="blog338"><a href="xrwyl6zyz8.html#blog338">关于系统性能的认知</a>
<li id="blog436"><a href="x569x089ep.html#blog436">提高前端代码性能的最佳实践</a>
<li id="blog720"><a href="wevwmxn9l2.html#blog720">高并发相关技巧(待完善)</a>
</ul>
</li>
<li>
<h2>编程</h2>
<ul>
<li id="blog569"><a href="1ndvm4pv3j.html#blog569">提高代码可读性和效率的 11 个技巧</a>
</ul>
</li>
</ul>
</div>

<style>
    #cnzz_stat_icon_1280630928
    {
        display: none;
    }
</style>

<script src="../../vendor/binarytorch/larecipe/assets/js/jquery.min.js"></script>
<script src="../../modules/blog/js/detail.js"></script>

<script type="text/javascript">
    $(function () {
        var cid = '15dved394x.html';
        if (!checkView(cid)) {
            $.get('https://wangmaolin.net/api/blog/addView/article/15dved394x.html', function (data, status) {
                addView('15dved394x.html')
            });
        }
    });
</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7c12b9716af39eb368cff4a19aa89393";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7125202304422722"
     crossorigin="anonymous"></script>
	
	<div class="documentation is-dark" :class="{'expanded': ! sidebar}">
		<h1>开发安全的 API 所需要核对的清单</h1><ul>
<li><a href="15dved394x.html#222f48b21b8e211009807db84b2a3beb">身份认证</a>
<ul>
<li><a href="15dved394x.html#3ca083b36b37332cba00015c9cd872f8">JWT（JSON Web Token）</a></li>
</ul></li>
<li><a href="15dved394x.html#d5c0ebdedb6b884fe22b7283d224d951">访问</a></li>
<li><a href="15dved394x.html#9cd8a2455b1839ff98ef70c05b9b5983">Authorization</a>
<ul>
<li><a href="15dved394x.html#4c90cd01ffa34c74b91d364b5f3a67f4">OAuth 授权或认证协议</a></li>
</ul></li>
<li><a href="15dved394x.html#e47d59b1bd2ea60194a4a9dc37ae1399">输入</a></li>
<li><a href="15dved394x.html#7b1d15e55715d8eb76147f98884205e5">处理</a></li>
<li><a href="15dved394x.html#8ba7c3a7bef9d56fa9f8f252503f9eef">输出</a></li>
<li><a href="15dved394x.html#72f4edea561b085eeeca136f42803f29">持续集成和持续部署</a></li>
<li><a href="15dved394x.html#9aff62415394ae8a2c63bc821f03c4e6">监控</a></li>
</ul><p>以下是当你在设计，测试以及发布你的 API 的时候所需要核对的重要安全措施。</p>
<hr />
<h2 id="222f48b21b8e211009807db84b2a3beb">身份认证</h2>
<ul>
<li>[ ] 不要使用 <code>Basic Auth</code> ，请使用标准的认证协议（如 <a href="https://jwt.io/">JWT</a>，<a href="https://oauth.net/">OAuth</a>）。</li>
<li>[ ] 不要重新实现 <code>Authentication</code>、<code>token generating</code> 和 <code>password storage</code>，请使用标准库。</li>
<li>[ ] 限制密码错误尝试次数，并且增加账号冻结功能。</li>
<li>[ ] 密码或账号登录失败时返回模糊的提示信息，防止暴力破解攻击。</li>
<li>[ ] 加密所有的敏感数据。</li>
<li>[ ] 不要将API Key，云组件Key等硬编码到前端页面或APP中。</li>
<li>[ ] 使用开源框架时禁止使用默认Key，比如Shiro。</li>
</ul>
<h3 id="3ca083b36b37332cba00015c9cd872f8">JWT（JSON Web Token）</h3>
<ul>
<li>[ ] 使用随机复杂的密钥（<code>JWT Secret</code>）以增加暴力破解的难度。</li>
<li>[ ] 不要在请求体中直接提取数据，要对数据进行加密（<code>HS256</code> 或 <code>RS256</code>）。</li>
<li>[ ] 使 token 的过期时间尽量的短（<code>TTL</code>，<code>RTTL</code>）。</li>
<li>[ ] 不要在 JWT 的请求体中存放敏感数据，因为它是<a href="https://jwt.io/#debugger-io">可解码的</a>。</li>
<li>[ ] 避免存储过多的数据。 JWT 通常在标头中共享，并且它们有大小限制。</li>
</ul>
<h2 id="d5c0ebdedb6b884fe22b7283d224d951">访问</h2>
<ul>
<li>[ ] 限制流量来防止 DDoS 攻击和暴力攻击。</li>
<li>[ ] 对API接口访问进行速率限制防止业务数据被批量爬取。</li>
<li>[ ] 在服务端使用 HTTPS 协议来防止 MITM （中间人攻击）。</li>
<li>[ ] 使用 <code>HSTS</code> 协议防止 SSL Strip 攻击。</li>
<li>[ ] 关闭目录列表。</li>
<li>[ ] 禁止公开存储文件列表可未授权访问。</li>
<li>[ ] 对于私有 API，仅允许从列入白名单的 IP/主机进行访问。</li>
<li>[ ] 禁止将内部组件接口、登录管理接口暴露于公网中。</li>
<li>[ ] 禁止将SourceMap文件暴露到公网中。</li>
<li>[ ] 禁止将API接口描述文档暴露到公网中。</li>
</ul>
<h2 id="9cd8a2455b1839ff98ef70c05b9b5983">Authorization</h2>
<h3 id="4c90cd01ffa34c74b91d364b5f3a67f4">OAuth 授权或认证协议</h3>
<ul>
<li>[ ] 始终在后台验证 <code>redirect_uri</code>，只允许白名单的 URL。</li>
<li>[ ] 始终在授权时使用有效期较短的授权码（code）而不是令牌（access_token）（不允许 <code>response_type=token</code>）。</li>
<li>[ ] 使用随机哈希数的 <code>state</code> 参数来防止跨站请求伪造（CSRF）。</li>
<li>[ ] 对不同的应用分别定义默认的作用域和各自有效的作用域参数。</li>
</ul>
<h2 id="e47d59b1bd2ea60194a4a9dc37ae1399">输入</h2>
<ul>
<li>[ ] 使用与操作相符的 HTTP 操作函数，<code>GET（读取)</code>，<code>POST（创建）</code>，<code>PUT（替换/更新）</code> 以及 <code>DELETE（删除记录）</code>，如果请求的方法不适用于请求的资源则返回 <code>405 Method Not Allowed</code>。</li>
<li>[ ] 在请求头中的 <code>content-type</code> 字段使用内容验证来只允许支持的格式（如 <code>application/xml</code>，<code>application/json</code> 等等）并在不满足条件的时候返回 <code>406 Not Acceptable</code>。</li>
<li>[ ] 验证 <code>content-type</code> 中申明的编码和你收到正文编码一致（如 <code>application/x-www-form-urlencoded</code>，<code>multipart/form-data</code>，<code>application/json</code> 等等）。</li>
<li>[ ] 验证用户输入来避免一些普通的易受攻击缺陷（如 <code>XSS</code>，<code>SQL-注入</code>，<code>远程代码执行</code> 等等）。</li>
<li>[ ] 不要在 URL 中使用任何敏感的数据（<code>credentials</code>，<code>Passwords</code>，<code>security tokens</code>，or <code>API keys</code>），而是使用标准的认证请求头。</li>
<li>[ ] 仅使用服务器端加密。</li>
<li>[ ] 使用一个 API Gateway 服务来启用缓存、限制访问速率（如 <code>Quota</code>，<code>Spike Arrest</code>，<code>Concurrent Rate Limit</code>）以及动态地部署 APIs resources。</li>
</ul>
<h2 id="7b1d15e55715d8eb76147f98884205e5">处理</h2>
<ul>
<li>[ ] 检查是否所有的接口都包含必要都身份认证，以避免被破坏了的认证体系。</li>
<li>[ ] 避免使用特有的资源 id。使用 <code>/me/orders</code> 替代 <code>/user/654321/orders</code>。</li>
<li>[ ] 使用 <code>UUID</code> 代替自增长的 id。</li>
<li>[ ] 对于访问资源进行权限检查，防止横向越权。</li>
<li>[ ] 如果需要解析 XML 文件，确保实体解析（entity parsing）是关闭的以避免 <code>XXE</code> 攻击。</li>
<li>[ ] 如果需要解析 XML 文件，确保实体扩展（entity expansion）是关闭的以避免通过指数实体扩展攻击实现的 <code>Billion Laughs/XML bomb</code>。</li>
<li>[ ] 在文件上传中使用 CDN。</li>
<li>[ ] 如果数据处理量很大，尽可能使用队列或者 Workers 在后台处理来避免阻塞请求，从而快速响应客户端。</li>
<li>[ ] 不要忘了把 DEBUG 模式关掉。</li>
<li>[ ] 可用时使用不可执行的堆栈。</li>
<li>[ ] 禁止使用类似于PHP <code>extract</code>函数将接口输入参数转换为变量。</li>
</ul>
<h2 id="8ba7c3a7bef9d56fa9f8f252503f9eef">输出</h2>
<ul>
<li>[ ] 增加请求返回头 <code>X-Content-Type-Options: nosniff</code>。</li>
<li>[ ] 增加请求返回头 <code>X-Frame-Options: deny</code>。</li>
<li>[ ] 增加请求返回头 <code>Content-Security-Policy: default-src 'none'</code>。</li>
<li>[ ] 删除请求返回中的指纹头 - <code>X-Powered-By</code>，<code>Server</code>，<code>X-AspNet-Version</code> 等等。</li>
<li>[ ] 在响应中遵循请求的 <code>content-type</code>，如果你的请求类型是 <code>application/json</code> 那么你返回的 <code>content-type</code> 就是 <code>application/json</code>。</li>
<li>[ ] 不要返回敏感的数据，如 <code>credentials</code>，<code>Passwords</code>，<code>security tokens</code>。</li>
<li>[ ] 给请求返回使用合理的 HTTP 响应代码。（如 <code>200 OK</code>，<code>400 Bad Request</code>，<code>401 Unauthorized</code>，<code>405 Method Not Allowed</code> 等等）。</li>
<li>[ ] 返回统一的错误页面，误将调用堆栈等信息在错误页面中展示。</li>
<li>[ ] 仅返回前端需要的业务数据，禁止返回过多类型敏感数据。</li>
<li>[ ] 前端对敏感业务数据使用时应结合业务需求对敏感数据进行脱敏。</li>
<li>[ ] 禁止在前端对数据进行脱敏，数据返回时在后端进行脱敏。</li>
</ul>
<h2 id="72f4edea561b085eeeca136f42803f29">持续集成和持续部署</h2>
<ul>
<li>[ ] 使用单元测试以及集成测试的覆盖率来保障你的设计和实现。</li>
<li>[ ] 引入代码审查流程，禁止私自合并代码。</li>
<li>[ ] 在推送到生产环境之前确保服务的所有组件都用杀毒软件静态地扫描过，包括第三方库和其它依赖。</li>
<li>[ ] 对您的代码持续运行安全测试（静态/动态分析）。</li>
<li>[ ] 检查您的依赖项（软件和操作系统）是否存在已知漏洞。</li>
<li>[ ] 为部署设计一个回滚方案。</li>
</ul>
<h2 id="9aff62415394ae8a2c63bc821f03c4e6">监控</h2>
<ul>
<li>[ ] 对所有服务和组件使用集中式登录。</li>
<li>[ ] 使用代理来监控所有流量、错误、请求和响应。</li>
<li>[ ] 使用短信，Slack，电子邮件，电报，Kibana, Cloudwatch等提醒。</li>
<li>[ ] 确保你没有记录任何敏感数据，如信用卡、密码、pin等。</li>
<li>[ ] 使用IDS和/或IPS系统监视您的API请求和实例。</li>
<li>[ ] 使用API检测设备进行API资产梳理、日志审计。</li>
</ul><h4 style="text-align:left;line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont, Helvetica Neue, PingFang SC, Hiragino Sans GB , Microsoft YaHei UI , Microsoft YaHei ,Arial,sans-serif;font-size:14px;font-weight:bold;margin:2em 8px 0.5em;color:rgba(250, 81, 81, 1)">引用链接</h4><p style="text-align:left;line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont, Helvetica Neue, PingFang SC, Hiragino Sans GB , Microsoft YaHei UI , Microsoft YaHei ,Arial,sans-serif;font-size:80%;margin:0.5em 8px;color:#3f3f3f"><code style="font-size: 90%; opacity: 0.6;">[1]</code> JWT: <i><a href="https://jwt.io/" target="_blank">https://jwt.io/</a></i><br><code style="font-size: 90%; opacity: 0.6;">[2]</code> OAuth: <i><a href="https://oauth.net/" target="_blank">https://oauth.net/</a></i><br><code style="font-size: 90%; opacity: 0.6;">[3]</code> 可解码的: <i><a href="https://jwt.io/#debugger-io" target="_blank">https://jwt.io/#debugger-io</a></i><br></p>
			</div>
</div>

            <larecipe-back-to-top></larecipe-back-to-top>
        </div>


        <script>
            window.config = [];
        </script>

        <script type="text/javascript">
            if(localStorage.getItem('larecipeSidebar') == null) {
                localStorage.setItem('larecipeSidebar', !! 1);
            }
        </script>

        <script src="../../vendor/binarytorch/larecipe/assets/js/app.js"></script>

        <script>
            window.LaRecipe = new CreateLarecipe(config)
        </script>

        <!-- Google Analytics -->
                <!-- /Google Analytics -->

        
        <script>
            LaRecipe.run()
        </script>
    </body>
</html>
