<!doctype html>
<html>
    <head>
        <!-- META Tags -->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>配置文件 | 风中的木偶</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- SEO -->
        <meta name="author" content="风中的木偶">
        <meta name="description" content="">
        <meta name="keywords" content="木偶笔记,个人技术博客,IT技术笔记,博客,个人网站,风中的木偶,木偶">
        <meta name="twitter:card" value="summary">
                                                                <meta property="og:title" content="风中的木偶个人博客" />
                                                                <meta property="og:type" content="article" />
                                                                <meta property="og:url" content="https://wangmaolin.net" />
                                                                                            
        <!-- CSS -->
        <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/app.css">

        
        <!-- FontAwesome -->
        <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/font-awesome.css">
                    <link rel="stylesheet" href="../../vendor/binarytorch/larecipe/assets/css/font-awesome-v4-shims.css">
        
        <!-- Dynamic Colors -->
        <style>
    :root {
        --primary: #787AF6;
        --secondary: #2b9cf2;
    }

    :not(pre)>code[class*=language-], pre[class*=language-] {
        border-top: 3px solid #787AF6;
    }
    
    .bg-gradient-primary {
        background: linear-gradient(87deg, #787AF6 0, #2b9cf2 100%) !important;
    }

    [v-cloak] > * { 
        display: none; 
    }
    
    [v-cloak]::before { 
        content: " ";
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: #F2F6FA;
    }
</style>
        <!-- CSRF Token -->
        <meta name="csrf-token" content="dyhUk5Gx05jMqeq3EDokv9qLWm6Mo9k2ZH0YoxvO">

        
    </head>
    <body>
        <div id="app" v-cloak>
            <div class="fixed pin-t pin-x z-40">
    <div class="bg-gradient-primary text-white h-1"></div>

    <nav class="flex items-center justify-between text-black bg-navbar shadow-xs h-16">
        <div class="flex items-center flex-no-shrink">
            <a href="../../index.html" class="flex items-center flex-no-shrink text-black mx-4">
                
                <p class="inline-block font-semibold mx-1 text-grey-dark">
                    风中的木偶
                </p>
            </a>

            <div class="switch">
                <input type="checkbox" name="1" id="1" v-model="sidebar" class="switch-checkbox"/>
                <label class="switch-label" for="1"></label>
            </div>
        </div>

        <div class="hidden lg:flex items-center justify-end pr-4">
            <div class="relative">
                <form action="https://wangmaolin.net/search" onsubmit="return validateForm()" class="form-search">
                    <input id="search-input" name="q" type="text" placeholder="Search" class="bg-gray-100 appearance-none border-2 border-gray-200 rounded py-2 px-4
         text-gray-800 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                </form>
            </div>
        </div>

        <div class="block mx-4 flex items-center">
                        
            
            
            
            

            
            <larecipe-dropdown>
                <larecipe-button type="primary" class="flex">
                    webman <i class="mx-1 fa fa-angle-down"></i>
                </larecipe-button>

                <template slot="list">
                    <ul class="list-reset" style="height: 800px;width: 200px">
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../AI/overview.html">AI</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../APP/overview.html">APP</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../CSS/overview.html">CSS</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Docker/overview.html">Docker</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../ELK/overview.html">ELK</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Git/overview.html">Git</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Go语言/overview.html">Go语言</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Laravel/overview.html">Laravel</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Linux/overview.html">Linux</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Linux&#32;服务器配置/overview.html">Linux 服务器配置</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Mac/overview.html">Mac</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../MongoDB/overview.html">MongoDB</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Mqtt/overview.html">Mqtt</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../MySQL/overview.html">MySQL</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Nginx/overview.html">Nginx</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../PHP/overview.html">PHP</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Protobuf/overview.html">Protobuf</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Python/overview.html">Python</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../SEO/overview.html">SEO</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Vue&#32;教程/overview.html">Vue 教程</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../Windows/overview.html">Windows</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="overview.html">webman</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../一无所有到财富自由/overview.html">一无所有到财富自由</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../云服务/overview.html">云服务</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../产品/overview.html">产品</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../元宇宙/overview.html">元宇宙</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../前端/overview.html">前端</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../合伙的本质/overview.html">合伙的本质</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../商业/overview.html">商业</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../大数据/overview.html">大数据</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../天机38局/overview.html">天机38局</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../开源项目/overview.html">开源项目</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../微信/overview.html">微信</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../控糖革命/overview.html">控糖革命</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../搜索/overview.html">搜索</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../支付/overview.html">支付</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../智慧人生/overview.html">智慧人生</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../架构/overview.html">架构</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../游戏开发/overview.html">游戏开发</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../算法/overview.html">算法</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../缓存/overview.html">缓存</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../网络/overview.html">网络</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../自媒体/overview.html">自媒体</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../菜谱/overview.html">菜谱</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../设计模式/overview.html">设计模式</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../资源/overview.html">资源</a>
                            </li>
                                                    <li class="py-2 hover:bg-grey-lightest">
                                <a class="px-6 text-grey-darkest"
                                   href="../软件工具/overview.html">软件工具</a>
                            </li>
                                            </ul>
                </template>
            </larecipe-dropdown>
            

                    </div>
    </nav>
</div>

            
            <div>
	<div class="sidebar" :class="[{'is-hidden': ! sidebar}]">
    <ul>
<li>
<h2>入门指引</h2>
<ul>
<li id="blog746"><a href="3oyjd5myp5.html#blog746">webman是什么</a>
<li id="blog747"><a href="2ev86lqyor.html#blog747">编程须知</a>
<li id="blog748"><a href="e296oj69q7.html#blog748">社区帮助</a>
</ul>
</li>
<li>
<h2>快速开始</h2>
<ul>
<li id="blog749"><a href="xq9zrq4vdo.html#blog749">安装</a>
<li id="blog750"><a href="2wy3l5xykm.html#blog750">宝塔安装</a>
<li id="blog751"><a href="3dykqmmyl0.html#blog751">目录结构</a>
<li id="blog752"><a href="enyd54897d.html#blog752">简单示例</a>
</ul>
</li>
<li>
<h2>基础功能</h2>
<ul>
<li id="blog753"><a href="5dve28gv4x.html#blog753">请求</a>
<li id="blog754"><a href="4rvgn47ydj.html#blog754">响应</a>
<li id="blog755"><a href="kl9nolwvz4.html#blog755">控制器</a>
<li id="blog756"><a href="xpv5281v86.html#blog756">路由</a>
<li id="blog757"><a href="3xyq4mjvmq.html#blog757">中间件</a>
<li id="blog758"><a href="x3vo02kvm1.html#blog758">视图</a>
<li id="blog759"><a href="qk942lgvw1.html#blog759">静态文件</a>
<li id="blog760"><a href="569x5e4yep.html#blog760">session管理</a>
<li id="blog761"><a href="dgy7xlkvw2.html#blog761">异常处理</a>
<li id="blog762"><a href="rwyl2levz8.html#blog762">日志</a>
<li id="blog763"><a href="kpv132q98w.html#blog763">配置文件</a>
<li id="blog764"><a href="d6vrolqv3g.html#blog764">多应用</a>
<li id="blog765"><a href="2ky042x9z8.html#blog765">协程</a>
</ul>
</li>
</ul>
</div>

<style>
    #cnzz_stat_icon_1280630928
    {
        display: none;
    }
</style>

<script src="../../vendor/binarytorch/larecipe/assets/js/jquery.min.js"></script>
<script src="../../modules/blog/js/detail.js"></script>

<script type="text/javascript">
    $(function () {
        var cid = 'kpv132q98w.html';
        if (!checkView(cid)) {
            $.get('https://wangmaolin.net/api/blog/addView/article/kpv132q98w.html', function (data, status) {
                addView('kpv132q98w.html')
            });
        }
    });
</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7c12b9716af39eb368cff4a19aa89393";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7125202304422722"
     crossorigin="anonymous"></script>
	
	<div class="documentation is-dark" :class="{'expanded': ! sidebar}">
		<h1>配置文件</h1><ul>
<li><a href="kpv132q98w.html#d4d2a66820d30e07b44c850eb3f116c0">位置</a></li>
<li><a href="kpv132q98w.html#f8d883d9261fb8d9708370f8d3b44470">获取配置</a></li>
<li><a href="kpv132q98w.html#225f3ed00750ae78ad1e6ea42c8f5087">默认值</a></li>
<li><a href="kpv132q98w.html#ce28347faa7b7fb0e2197a45fdf9690c">自定义配置</a></li>
<li><a href="kpv132q98w.html#e096c091efd5276a93a0f2d5aa8b5815">更改配置</a></li>
<li><a href="kpv132q98w.html#92ca8c6b01bdbf8f330386f6c510f0ff">特别提醒</a></li>
<li><a href="kpv132q98w.html#2adf7dcdb5636d0607590599a038fd3a">配置文件讲解</a>
<ul>
<li><a href="kpv132q98w.html#c7b36e05b81cc4174a915d1bd510c758">server.php</a></li>
<li><a href="kpv132q98w.html#13b50fc800901af6783d1a2e8c1e37df">app.php</a></li>
<li><a href="kpv132q98w.html#1ca1eee8fe872d870e98c763b82afe44">process.php</a></li>
<li><a href="kpv132q98w.html#7d7412b03828839fb896a387c70fc87f">container.php</a></li>
<li><a href="kpv132q98w.html#fa018c469ff88f078e5f6826c5081167">dependence.php</a></li>
<li><a href="kpv132q98w.html#7aa76a900040c1bef43af8c5945d17f1">route.php</a></li>
<li><a href="kpv132q98w.html#bc8a20f246ad96d295d6336e0cc52d8d">view.php</a>
<ul>
<li><a href="kpv132q98w.html#83ad6bd4885732fd14b9d8709d592efd">autoload.php</a></li>
</ul></li>
<li><a href="kpv132q98w.html#aea5216ea7a95f45514a4217d3e1b360">cache.php</a></li>
<li><a href="kpv132q98w.html#7ab1551068adff6ed5e8e1fa28e6d6bf">redis.php</a></li>
<li><a href="kpv132q98w.html#da50a7aa450190832c6d9ec74502a8dd">database.php</a></li>
<li><a href="kpv132q98w.html#0301aa311b582528468d3898d4f5906e">exception.php</a></li>
<li><a href="kpv132q98w.html#6c3feced5fe97be15edcefad3cdc76e7">log.php</a></li>
<li><a href="kpv132q98w.html#79c1ecf3fb6925914385a0321e106d5f">session.php</a></li>
<li><a href="kpv132q98w.html#94d2d1701115feb04b23bc4d2be3b347">middleware.php</a></li>
<li><a href="kpv132q98w.html#2630cd084678ec933f7826db2acae7b1">static.php</a></li>
<li><a href="kpv132q98w.html#48ae4b70ed6d30ceebaa3f1f78fff2b5">translation.php</a></li>
</ul></li>
</ul><h2 id="d4d2a66820d30e07b44c850eb3f116c0">位置</h2>
<p>webman的配置文件在<code>config/</code>目录下，项目中可以通过<code>config()</code>函数来获取对应的配置。</p>
<h2 id="f8d883d9261fb8d9708370f8d3b44470">获取配置</h2>
<p>获取所有配置</p>
<pre><code class="language-php">config();</code></pre>
<p>获取<code>config/app.php</code>里的所有配置</p>
<pre><code class="language-php">config('app');</code></pre>
<p>获取<code>config/app.php</code>里的<code>debug</code>配置</p>
<pre><code class="language-php">config('app.debug');</code></pre>
<p>如果配置是数组，可以通过<code>.</code>来获取数组内部元素的值，例如</p>
<pre><code class="language-php">config('file.key1.key2');</code></pre>
<h2 id="225f3ed00750ae78ad1e6ea42c8f5087">默认值</h2>
<pre><code class="language-php">config($key, $default);</code></pre>
<p>config通过第二个参数传递默认值，如果配置不存在则返回默认值。<br />
配置不存在且没有设置默认值则返回null。</p>
<h2 id="ce28347faa7b7fb0e2197a45fdf9690c">自定义配置</h2>
<p>开发者可以在<code>config/</code>目录下添加自己的配置文件，例如</p>
<p><strong>config/payment.php</strong></p>
<pre><code class="language-php">&lt;?php
return [
    'key' =&gt; '...',
    'secret' =&gt; '...'
];</code></pre>
<p><strong>获取配置时使用</strong></p>
<pre><code class="language-php">config('payment');
config('payment.key');
config('payment.key');</code></pre>
<h2 id="e096c091efd5276a93a0f2d5aa8b5815">更改配置</h2>
<p>webman不支持动态修改配置，所有配置必须手动修改对应的配置文件，并reload或restart重启</p>
<blockquote>
<p><strong>注意</strong><br />
服务器配置<code>config/server.php</code>以及进程配置<code>config/process.php</code>不支持reload，需要restart重启才能生效</p>
</blockquote>
<h2 id="92ca8c6b01bdbf8f330386f6c510f0ff">特别提醒</h2>
<p>如果你是要在config下的子目录创建配置文件并读取，比如：<code>config/order/status.php</code>，那么<code>config/order</code>目录下需要有一个<code>app.php</code>文件，内容如下</p>
<pre><code class="language-php">&lt;?php
return [
    'enable' =&gt; true,
];</code></pre>
<p><code>enable</code>为<code>true</code>代表让框架读取这个目录的配置。<br />
最终配置文件目录树类似下面这样</p>
<pre><code class="   language-php">├── config
│   ├── order
│   │   ├── app.php
│   │   └── status.php</code></pre>
<p>这样你就可以通过<code>config.order.status</code>读取<code>status.php</code>中返回的数组或者特定的key数据了。</p>
<h2 id="2adf7dcdb5636d0607590599a038fd3a">配置文件讲解</h2>
<h4 id="c7b36e05b81cc4174a915d1bd510c758">server.php</h4>
<pre><code class="language-php">return [
    'listen' =&gt; 'http://0.0.0.0:8787', // 监听端口(从1.6.0版本开始移除, 改在config/process.php中配置)
    'transport' =&gt; 'tcp', // 传输层协议(从1.6.0版本开始移除, 改在config/process.php中配置)
    'context' =&gt; [], // ssl等配置(从1.6.0版本开始移除, 改在config/process.php中配置)
    'name' =&gt; 'webman', // 进程名(从1.6.0版本开始移除, 改在config/process.php中配置)
    'count' =&gt; cpu_count() * 4, // 进程数量(从1.6.0版本开始移除, 改在config/process.php中配置)
    'user' =&gt; '', // 用户(从1.6.0版本开始移除, 改在config/process.php中配置)
    'group' =&gt; '', // 用户组(从1.6.0版本开始移除, 改在config/process.php中配置)
    'reusePort' =&gt; false, // 是否开启端口复用(从1.6.0版本开始移除, 改在config/process.php中配置)
    'event_loop' =&gt; '',  // 事件循环类，默认自动选择
    'stop_timeout' =&gt; 2, // 收到stop/restart/reload信号时，等待处理完成的最大时间，超过这个时间进程未退出则强制退出
    'pid_file' =&gt; runtime_path() . '/webman.pid', // pid文件存储位置
    'status_file' =&gt; runtime_path() . '/webman.status', // status文件存储位置
    'stdout_file' =&gt; runtime_path() . '/logs/stdout.log', // 标准输出文件位置，webman启动后所有输出都会写入这个文件
    'log_file' =&gt; runtime_path() . '/logs/workerman.log', // workerman日志文件位置
    'max_package_size' =&gt; 10 * 1024 * 1024 // 最大数据包大小，10M。上传文件大小受到此限制
];</code></pre>
<h4 id="13b50fc800901af6783d1a2e8c1e37df">app.php</h4>
<pre><code class="language-php">return [
    'debug' =&gt; true,  // 是否开启debug模式，开启后页面报错会输出更多调试信息
    'error_reporting' =&gt; E_ALL, // 错误报告级别
    'default_timezone' =&gt; 'Asia/Shanghai', // 默认时区
    'public_path' =&gt; base_path() . DIRECTORY_SEPARATOR . 'public', // public目录位置
    'runtime_path' =&gt; base_path(false) . DIRECTORY_SEPARATOR . 'runtime', // runtime目录位置
    'controller_suffix' =&gt; 'Controller', // 控制器后缀
    'controller_reuse' =&gt; false, // 控制器是否复用
];</code></pre>
<h4 id="1ca1eee8fe872d870e98c763b82afe44">process.php</h4>
<pre><code class="language-php">use support\Log;
use support\Request;
use app\process\Http;
global $argv;

return [
     // webman进程配置
    'webman' =&gt; [ 
        'handler' =&gt; Http::class, // 进程处理类
        'listen' =&gt; 'http://0.0.0.0:8787', // 监听地址
        'count' =&gt; cpu_count() * 4, // 进程数量，默认cpu的4倍
        'user' =&gt; '', // 进程运行的用户，应该使用低级别用户
        'group' =&gt; '', // 进程运行的用户组，应该使用低级别用户组
        'reusePort' =&gt; false, // 是否开启reusePort，开启后连接会均匀分布到不同的worker进程
        'eventLoop' =&gt; '', // 事件循环类，为空时自动使用server.event_loop配置 
        'context' =&gt; [], // 监听上下文配置，例如ssl
        'constructor' =&gt; [ // 进程处理类构造函数参数，本例中是Http类的构造函数参数
            'requestClass' =&gt; Request::class, // 可以自定义请求类
            'logger' =&gt; Log::channel('default'), // 日志实例
            'appPath' =&gt; app_path(), // app目录位置
            'publicPath' =&gt; public_path() // public目录位置
        ]
    ],
    // 监控进程，用于检测文件更新自动加载和内存泄漏
    'monitor' =&gt; [
        'handler' =&gt; app\process\Monitor::class, // 处理类
        'reloadable' =&gt; false, // 当前进程不执行reload
        'constructor' =&gt; [ // 进程处理类构造函数参数
            // 监听的目录，不要过多，会导致检测变慢
            'monitorDir' =&gt; array_merge([
                app_path(),
                config_path(),
                base_path() . '/process',
                base_path() . '/support',
                base_path() . '/resource',
                base_path() . '/.env',
            ], glob(base_path() . '/plugin/*/app'), glob(base_path() . '/plugin/*/config'), glob(base_path() . '/plugin/*/api')),
            // 监听这些后缀文件的更新
            'monitorExtensions' =&gt; [
                'php', 'html', 'htm', 'env'
            ],
            // 其它选项
            'options' =&gt; [
                // 是否开启文件监控，仅在linux下有效，默认守护进程模式不开启文件监控
                'enable_file_monitor' =&gt; !in_array('-d', $argv) &amp;&amp; DIRECTORY_SEPARATOR === '/',
                // 是否开启内存监控，仅支持在linux下开启
                'enable_memory_monitor' =&gt; DIRECTORY_SEPARATOR === '/',
            ]
        ]
    ]
];</code></pre>
<h4 id="7d7412b03828839fb896a387c70fc87f">container.php</h4>
<pre><code class="language-php">// 返回一个psr-11依赖注入容器实例
return new Webman\Container;</code></pre>
<h4 id="fa018c469ff88f078e5f6826c5081167">dependence.php</h4>
<pre><code class="language-php">// 用于配置依赖注入容器中的服务和依赖关系
return [];</code></pre>
<h4 id="7aa76a900040c1bef43af8c5945d17f1">route.php</h4>
<pre><code class="language-php">
use support\Route;
// 定义/test路径的路由
Route::any('/test', function (Request $request) {
    return response('test');
});</code></pre>
<h4 id="bc8a20f246ad96d295d6336e0cc52d8d">view.php</h4>
<pre><code class="language-php">use support\view\Raw;
use support\view\Twig;
use support\view\Blade;
use support\view\ThinkPHP;

return [
    'handler' =&gt; Raw::class // 默认视图处理类 
];</code></pre>
<h3 id="83ad6bd4885732fd14b9d8709d592efd">autoload.php</h3>
<pre><code class="language-php">// 配置框架自动加载的文件
return [
    'files' =&gt; [
        base_path() . '/app/functions.php',
        base_path() . '/support/Request.php',
        base_path() . '/support/Response.php',
    ]
];</code></pre>
<h4 id="aea5216ea7a95f45514a4217d3e1b360">cache.php</h4>
<pre><code class="language-php">// 缓存配置
return [
    'default' =&gt; 'file', // 默认文件
    'stores' =&gt; [
        'file' =&gt; [
            'driver' =&gt; 'file',
            'path' =&gt; runtime_path('cache') // 缓存文件存储位置
        ],
        'redis' =&gt; [
            'driver' =&gt; 'redis',
            'connection' =&gt; 'default' // redis连接名，对应redis.php里的配置
        ],
        'array' =&gt; [
            'driver' =&gt; 'array' // 内存缓存，重启后失效
        ]
    ]
];</code></pre>
<h4 id="7ab1551068adff6ed5e8e1fa28e6d6bf">redis.php</h4>
<pre><code class="language-php">return [
    'default' =&gt; [
        'host' =&gt; '127.0.0.1',
        'password' =&gt; null,
        'port' =&gt; 6379,
        'database' =&gt; 0,
    ],
];</code></pre>
<h4 id="da50a7aa450190832c6d9ec74502a8dd">database.php</h4>
<pre><code class="language-php">return [
 // 默认数据库
 'default' =&gt; 'mysql',
 // 各种数据库配置
 'connections' =&gt; [

     'mysql' =&gt; [
         'driver'      =&gt; 'mysql',
         'host'        =&gt; '127.0.0.1',
         'port'        =&gt; 3306,
         'database'    =&gt; 'webman',
         'username'    =&gt; 'webman',
         'password'    =&gt; '',
         'unix_socket' =&gt; '',
         'charset'     =&gt; 'utf8',
         'collation'   =&gt; 'utf8_unicode_ci',
         'prefix'      =&gt; '',
         'strict'      =&gt; true,
         'engine'      =&gt; null,
     ],

     'sqlite' =&gt; [
         'driver'   =&gt; 'sqlite',
         'database' =&gt; '',
         'prefix'   =&gt; '',
     ],

     'pgsql' =&gt; [
         'driver'   =&gt; 'pgsql',
         'host'     =&gt; '127.0.0.1',
         'port'     =&gt; 5432,
         'database' =&gt; 'webman',
         'username' =&gt; 'webman',
         'password' =&gt; '',
         'charset'  =&gt; 'utf8',
         'prefix'   =&gt; '',
         'schema'   =&gt; 'public',
         'sslmode'  =&gt; 'prefer',
     ],

     'sqlsrv' =&gt; [
         'driver'   =&gt; 'sqlsrv',
         'host'     =&gt; 'localhost',
         'port'     =&gt; 1433,
         'database' =&gt; 'webman',
         'username' =&gt; 'webman',
         'password' =&gt; '',
         'charset'  =&gt; 'utf8',
         'prefix'   =&gt; '',
     ],
 ],
];</code></pre>
<h4 id="0301aa311b582528468d3898d4f5906e">exception.php</h4>
<pre><code class="language-php">return [
    // 设置异常处理类 
    '' =&gt; support\exception\Handler::class,
];</code></pre>
<h4 id="6c3feced5fe97be15edcefad3cdc76e7">log.php</h4>
<pre><code class="language-php">return [
    'default' =&gt; [
        'handlers' =&gt; [
            [
                'class' =&gt; Monolog\Handler\RotatingFileHandler::class, // 处理器
                'constructor' =&gt; [
                    runtime_path() . '/logs/webman.log', // 日志名
                    7, //$maxFiles // 保留7天内的日志
                    Monolog\Logger::DEBUG, // 日志级别
                ],
                'formatter' =&gt; [
                    'class' =&gt; Monolog\Formatter\LineFormatter::class, // 格式化器
                    'constructor' =&gt; [null, 'Y-m-d H:i:s', true], // 格式化参数
                ],
            ]
        ],
    ],
];</code></pre>
<h4 id="79c1ecf3fb6925914385a0321e106d5f">session.php</h4>
<pre><code class="language-php">return [
     // 类型
    'type' =&gt; 'file', // or redis or redis_cluster
     // 处理器
    'handler' =&gt; FileSessionHandler::class,
     // 配置
    'config' =&gt; [
        'file' =&gt; [
            'save_path' =&gt; runtime_path() . '/sessions', // 存储目录
        ],
        'redis' =&gt; [
            'host' =&gt; '127.0.0.1',
            'port' =&gt; 6379,
            'auth' =&gt; '',
            'timeout' =&gt; 2,
            'database' =&gt; '',
            'prefix' =&gt; 'redis_session_',
        ],
        'redis_cluster' =&gt; [
            'host' =&gt; ['127.0.0.1:7000', '127.0.0.1:7001', '127.0.0.1:7001'],
            'timeout' =&gt; 2,
            'auth' =&gt; '',
            'prefix' =&gt; 'redis_session_',
        ]
    ],
    'session_name' =&gt; 'PHPSID', // session名
    'auto_update_timestamp' =&gt; false, // 是否自动更新时间戳，避免session过期
    'lifetime' =&gt; 7*24*60*60, // 生命周期
    'cookie_lifetime' =&gt; 365*24*60*60, // cookie生命周期
    'cookie_path' =&gt; '/', // cookie路径
    'domain' =&gt; '', // cookie域
    'http_only' =&gt; true, // 仅http访问
    'secure' =&gt; false, // 仅https访问
    'same_site' =&gt; '', // SameSite属性
    'gc_probability' =&gt; [1, 1000], // session回收概率
];</code></pre>
<h4 id="94d2d1701115feb04b23bc4d2be3b347">middleware.php</h4>
<pre><code class="language-php">// 设置中间件
return [];</code></pre>
<h4 id="2630cd084678ec933f7826db2acae7b1">static.php</h4>
<pre><code class="language-php">return [
    'enable' =&gt; true, // 是否开启webman的静态文件访问
    'middleware' =&gt; [ // 静态文件中间件，可用于设置缓存策略、跨域等
        //app\middleware\StaticFile::class,
    ],
];</code></pre>
<h4 id="48ae4b70ed6d30ceebaa3f1f78fff2b5">translation.php</h4>
<pre><code class="language-php">return [
    // 默认语言
    'locale' =&gt; 'zh_CN',
    // 回退语言
    'fallback_locale' =&gt; ['zh_CN', 'en'],
    // 语言文件存储位置
    'path' =&gt; base_path() . '/resource/translations',
];</code></pre>
			</div>
</div>

            <larecipe-back-to-top></larecipe-back-to-top>
        </div>


        <script>
            window.config = [];
        </script>

        <script type="text/javascript">
            if(localStorage.getItem('larecipeSidebar') == null) {
                localStorage.setItem('larecipeSidebar', !! 1);
            }
        </script>

        <script src="../../vendor/binarytorch/larecipe/assets/js/app.js"></script>

        <script>
            window.LaRecipe = new CreateLarecipe(config)
        </script>

        <!-- Google Analytics -->
                <!-- /Google Analytics -->

        
        <script>
            LaRecipe.run()
        </script>
    </body>
</html>
